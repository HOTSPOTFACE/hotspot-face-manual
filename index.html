<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hotspot-Face Manual v2.0</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <style>
    :root {
      --bg: #f5f7fb;
      --bg-alt: #ffffff;
      --text: #111827;
      --text-muted: #6b7280;
      --primary: #1e90ff;
      --primary-soft: #dbeafe;
      --accent: #f97316;
      --sidebar-bg: #0b1220;
      --sidebar-border: #111827;
      --card-shadow: 0 2px 10px rgba(15, 23, 42, 0.15);
    }

    body.dark {
      --bg: #020617;
      --bg-alt: #020617;
      --text: #e5e7eb;
      --text-muted: #9ca3af;
      --primary: #38bdf8;
      --primary-soft: #0b1120;
      --accent: #fb923c;
      --sidebar-bg: #020617;
      --sidebar-border: #0f172a;
      --card-shadow: 0 2px 16px rgba(15, 23, 42, 0.9);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e0f2fe 0, var(--bg) 50%);
      color: var(--text);
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    /* Stop header from covering section titles */
    section { scroll-margin-top: 120px; }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* SIDEBAR */
    .sidebar {
      width: 260px;
      background: linear-gradient(180deg, var(--sidebar-bg), #020617);
      color: #e5e7eb;
      padding: 20px 18px 24px;
      position: fixed;
      top: 0;
      bottom: 0;
      border-right: 1px solid var(--sidebar-border);
      overflow-y: auto;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .brand-logo img {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      display: block;
    }

    .brand-text-title {
      font-size: 19px;
      font-weight: 700;
    }

    .brand-text-sub {
      font-size: 12px;
      color: #9ca3af;
    }

    .sidebar-divider {
      height: 1px;
      background: radial-gradient(circle, #1f2937, transparent);
      margin: 14px 0 12px;
    }

    .menu-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .nav-link-group a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 7px 8px;
      color: #e5e7eb;
      text-decoration: none;
      border-radius: 6px;
      font-size: 14px;
      margin-bottom: 3px;
      transition: background 0.15s, transform 0.1s;
    }

    .nav-link-group a:hover {
      background: rgba(148,163,184,0.2);
      transform: translateX(1px);
    }

    .primary-link {
      display: flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      padding: 8px 10px;
      border-radius: 6px;
      margin-top: 12px;
      color: white;
      text-decoration: none;
    }

    /* CONTENT WRAPPER */
    .content-wrapper {
      margin-left: 260px;
      width: calc(100% - 260px);
    }

    .topbar {
      position: sticky;
      top: 0;
      backdrop-filter: blur(12px);
      background: rgba(255,255,255,0.85);
      padding: 10px 32px;
      border-bottom: 1px solid rgba(148,163,184,0.4);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
    }

    body.dark .topbar {
      background: rgba(15,23,42,0.92);
      border-bottom-color: #1f2937;
    }

    .topbar-title {
      font-size: 16px;
      font-weight: 600;
    }

    .topbar-sub {
      font-size: 12px;
      color: var(--text-muted);
    }

    .btn-toggle {
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .content {
      padding: 26px 40px 40px;
      max-width: 980px;
    }

    .hero img {
      width: 180px;
      margin: 0 auto 15px auto;
      display: block;
    }

    .hero-title {
      font-size: 28px;
      font-weight: 700;
      text-align: left;
      margin-bottom: 5px;
    }

    .hero-sub {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .hero-meta {
      font-size: 12px;
      color: var(--text-muted);
    }

    .section {
      background: var(--bg-alt);
      padding: 22px;
      border-radius: 10px;
      margin-bottom: 22px;
      box-shadow: var(--card-shadow);
    }

    .section h2 {
      margin-top: 0;
      font-size: 20px;
      border-bottom: 2px solid rgba(148,163,184,0.3);
      padding-bottom: 6px;
      margin-bottom: 14px;
    }

    .section h3 {
      font-size: 16px;
      margin-top: 18px;
      margin-bottom: 10px;
      color: var(--primary);
    }

    .info-box {
      background: var(--primary-soft);
      border-left: 4px solid var(--primary);
      padding: 12px 16px;
      border-radius: 6px;
      margin: 12px 0;
    }

    .warning {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 12px 16px;
      border-radius: 6px;
      margin: 12px 0;
      color: #78350f;
    }

    body.dark .warning {
      background: #422006;
      color: #fde68a;
    }

    code {
      background: rgba(148,163,184,0.15);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }

    /* TABLE MOBILE FIX */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
    }

    table th, table td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid rgba(148,163,184,0.2);
    }

    table th {
      background: var(--primary-soft);
      font-weight: 600;
    }

    /* MOBILE RESPONSIVE */
    @media (max-width: 900px) {
      .sidebar {
        display: none;
      }
      .content-wrapper {
        margin-left: 0 !important;
        width: 100% !important;
      }
    }

    @media (max-width: 600px) {
      .content {
        padding: 20px 16px !important;
      }
      .hero img {
        width: 120px !important;
      }
      .hero-title {
        font-size: 22px !important;
      }
      .hero-sub {
        font-size: 13px !important;
      }
      .hero-meta {
        font-size: 11px !important;
      }
      .section {
        padding: 18px !important;
      }
    }
  </style>
</head>

<body>
<div class="container">

  <!-- SIDEBAR -->
  <nav class="sidebar">
    <div class="brand">
      <div class="brand-logo">
        <img src="hotspotface_sidebar.png" alt="Mascot">
      </div>
      <div>
        <div class="brand-text-title">Hotspot-Face</div>
        <div class="brand-text-sub">MMDVM Monitor Manual</div>
      </div>
    </div>

    <div class="sidebar-divider"></div>

    <div class="menu-title">Contents</div>
    <div class="nav-link-group">
      <a href="#intro">üèÅ Introduction</a>
      <a href="#features">‚ú® Features</a>
      <a href="#setup">‚öôÔ∏è Initial Setup</a>
      <a href="#database">üíæ SD Card Database</a>
      <a href="#layout">üñ•Ô∏è Display Layout</a>
      <a href="#operation">üì° Normal Operation</a>
      <a href="#settings">üõ†Ô∏è Settings Menu</a>
      <a href="#advanced">üöÄ Advanced Features</a>
      <a href="#reset">‚ôªÔ∏è Factory Reset</a>
      <a href="#trouble">‚ùì Troubleshooting</a>
      <a href="#technical">üìê Technical Info</a>
      <a href="#safety">‚ö†Ô∏è Safety</a>
      <a href="#support">üìß Support</a>
    </div>

    <a class="primary-link" href="#setup">üöÄ Get Started</a>
  </nav>

  <!-- MAIN CONTENT -->
  <div class="content-wrapper">

    <!-- TOP BAR -->
    <header class="topbar">
      <div>
        <div class="topbar-title">Hotspot-Face User Manual</div>
        <div class="topbar-sub">
          Advanced MMDVM Monitor for DMR hotspot systems operating PI-Star
        </div>
      </div>
      <button class="btn-toggle" id="themeToggle">
        <span id="themeIcon">üåô</span> <span id="themeLabel">Dark</span>
      </button>
    </header>

    <main class="content">

      <!-- HERO SECTION -->
      <section class="hero">
        <img src="hotspotface_transparent_optimized.png" alt="Hotspot-Face Mascot">

        <div class="hero-title">Hotspot-Face</div>

        <div class="hero-sub">
          Touchscreen MMDVM monitor for DMR hotspots running PI-Star.
        </div>

        <div class="hero-meta">
          <strong>Created by:</strong> Robert Eddy (M3URE) ¬∑
          <strong>Use case:</strong> Always-on visual monitor for PI-Star activity.
        </div>
      </section>

      <!-- INTRO -->
      <section id="intro" class="section">
        <h2>1. Introduction</h2>
        <p>
          The Hotspot-Face is an advanced touchscreen monitor specifically designed for 
          <strong>DMR hotspot systems operating PI-Star</strong>. It provides real-time activity
          monitoring without needing a PC or mobile device.
        </p>
        <p>
          Callsigns, talk groups, connection status, and TX duration appear instantly on a clean,
          dedicated display for your shack.
        </p>
      </section>

      <!-- FEATURES -->
      <section id="features" class="section">
        <h2>2. Features</h2>

        <h3>Display</h3>
        <ul>
          <li>2.8" TFT touchscreen (320√ó240 resolution)</li>
          <li>Colour-coded status indicators</li>
          <li>Real-time DMR activity display with operator names and locations</li>
          <li>Scrolling text for long location names</li>
          <li>Clean display format (numeric talk groups, simplified status)</li>
          <li>Date and connection mode indicator</li>
        </ul>

        <h3>Database</h3>
        <ul>
          <li>SD card-based DMR database with 450,000+ callsigns</li>
          <li>Millisecond callsign lookups</li>
          <li>Operator names and locations from RadioID.net</li>
          <li>Country abbreviations for compact display</li>
        </ul>

        <h3>Network</h3>
        <ul>
          <li>2.4GHz WiFi support</li>
          <li>Multiple WiFi network profiles</li>
          <li>Auto-discovery of PI-Star devices via mDNS</li>
          <li>Mobile-optimized web configuration interface</li>
        </ul>

        <h3>Configuration</h3>
        <ul>
          <li>Long-press header for options menu</li>
          <li>Captive setup portal (mobile/tablet)</li>
          <li>Network scanning and selection</li>
          <li>Factory reset functionality</li>
        </ul>
      </section>

      <!-- SETUP -->
      <section id="setup" class="section">
        <h2>3. Initial Setup</h2>
        
        <div class="info-box">
          <strong>üì± Mobile/Tablet Required:</strong> Setup is optimized for mobile devices and tablets. 
          The captive portal automatically opens when you connect to the setup WiFi network.
        </div>

        <p>When powered on for the first time, the device enters WiFi Setup Mode.</p>

        <h3>Step-by-Step Instructions:</h3>
        <ol>
          <li><strong>Power the device</strong> via USB-C (5V).</li>
          <li>
            <strong>Connect to WiFi network:</strong><br>
            Network: <code>Hotspot-Face Setup</code><br>
            Password: <code>M3URE1512</code>
          </li>
          <li>
            <strong>Press "Sign in" if prompted</strong><br>
            Most mobile devices will show a notification to sign in to the WiFi network. 
            Tap this notification to open the configuration page automatically.
          </li>
          <li>
            <strong>Configure your settings:</strong>
            <ul>
              <li>Enter your home WiFi SSID and password (or scan for networks)</li>
              <li>Optionally enter PI-Star IP address</li>
              <li>Leave PI-Star IP blank to enable automatic discovery</li>
              <li>Default PI-Star credentials: <code>pi-star</code> / <code>raspberry</code></li>
            </ul>
          </li>
          <li><strong>Click "Save & Connect"</strong> to save and reboot.</li>
          <li>The device will connect to your WiFi and find your PI-Star automatically.</li>
        </ol>

        <div class="info-box">
          <strong>üí° Tip:</strong> Enable "Auto-Discovery" to let the device find your PI-Star 
          automatically using mDNS. This works if your PI-Star is named "pi-star" or "pistar" on 
          your network.
        </div>
      </section>

      <!-- SD CARD DATABASE SETUP -->
      <section id="database" class="section">
        <h2>4. SD Card Database</h2>

        <div class="info-box">
          <strong>üíæ Included:</strong> Your Hotspot-Face comes with an SD card pre-loaded with a 
          recent DMR database from RadioID.net. The device is ready to display operator names and 
          locations out of the box.
        </div>

        <h3>What's on the SD Card</h3>
        <p>
          The included SD card contains a DMR ID database file named <code>dmrids.csv</code> with 450,000+ 
          callsigns, names, and locations. This database is sourced from RadioID.net and is current as of 
          the device manufacture date. The device uses this database to instantly display operator 
          information during DMR transmissions.
        </p>

        <h3>When to Update the Database</h3>
        <p>
          New amateur radio operators register DMR IDs regularly, and existing operators may update 
          their information. You should update your database when:
        </p>
        <ul>
          <li>You notice callsigns without names or locations</li>
          <li>You want the latest operator information</li>
          <li>New users in your area have joined DMR networks</li>
          <li>Every 3-6 months to keep information current</li>
        </ul>

        <h3>How to Update the Database</h3>
        <p>Follow these steps to update your DMR database using a PC:</p>

        <ol>
          <li>
            <strong>Download the Latest Database</strong><br>
            Click this link to download the latest DMR ID database in CSV format:<br>
            <a href="https://radioid.net/static/user.csv" target="_blank"><strong>https://radioid.net/static/user.csv</strong></a><br>
            This file is updated daily and contains all registered DMR IDs worldwide (approximately 15 MB). 
            The download will start automatically when you click the link.<br>
            <em>Alternative:</em> Visit <a href="https://radioid.net/database/dumps" target="_blank">https://radioid.net/database/dumps</a> 
            and download "user.csv" from the file list.
          </li>
          <li>
            <strong>Download the Latest Database</strong><br>
            Click this link to download the latest DMR ID database in CSV format:<br>
            <a href="https://radioid.net/static/user.csv" target="_blank"><strong>https://radioid.net/static/user.csv</strong></a><br>
            This file is updated daily and contains all registered DMR IDs worldwide (approximately 15 MB). 
            The download will start automatically when you click the link.<br>
            <em>Alternative:</em> Visit <a href="https://radioid.net/database/dumps" target="_blank">https://radioid.net/database/dumps</a> 
            and download "user.csv" from the file list.
          </li>
          <li>
            <strong>Remove SD Card</strong><br>
            Power off the Hotspot-Face device and carefully remove the SD card.
          </li>
          <li>
            <strong>Insert SD Card into PC</strong><br>
            Use an SD card reader to connect the card to your computer.
          </li>
          <li>
            <strong>Open and Organize the Downloaded Database</strong><br>
            Open the downloaded CSV file in Excel, LibreOffice Calc, or Google Sheets and organize the data:
            <ul>
              <li><strong>Step 1 - Arrange columns in alphabetical order:</strong>
                <ul>
                  <li><strong>CALLSIGN</strong> - DMR callsign (e.g., M3URE)</li>
                  <li><strong>CITY</strong> - Operator's city</li>
                  <li><strong>COUNTRY</strong> - Country name or abbreviation</li>
                  <li><strong>FIRST_NAME</strong> - Operator's first name</li>
                  <li><strong>SURNAME</strong> - Operator's last name</li>
                </ul>
              </li>
              <li>Delete any extra columns not listed above</li>
              <li>Ensure the first row contains the column headers exactly as shown</li>
              <li><strong>Step 2 - Sort all rows by CALLSIGN column alphabetically (A-Z)</strong>
                <ul>
                  <li><strong>Excel:</strong> Select all data ‚Üí Data tab ‚Üí Sort ‚Üí Sort by CALLSIGN (A to Z)</li>
                  <li><strong>Google Sheets:</strong> Select all data ‚Üí Data menu ‚Üí Sort range ‚Üí Sort by CALLSIGN (A‚ÜíZ)</li>
                  <li><strong>LibreOffice:</strong> Select all data ‚Üí Data menu ‚Üí Sort ‚Üí Sort by CALLSIGN (Ascending)</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <strong>Rename and Save to SD Card</strong><br>
            <ol style="margin: 8px 0 0 0; padding-left: 20px;">
              <li>Save the organized file as a CSV file to your computer</li>
              <li><strong>Rename the file to <code>dmrids.csv</code></strong> (the downloaded file will be named "user.csv" 
              but must be renamed to exactly <code>dmrids.csv</code> - lowercase, no spaces)</li>
              <li>Copy <code>dmrids.csv</code> to the SD card, replacing the old database file</li>
            </ol>
          </li>
          <li>
            <strong>Reinsert SD Card</strong><br>
            Safely eject the SD card from your PC, insert it back into the Hotspot-Face, and power 
            on the device. The new database will load automatically.
          </li>
        </ol>

        <div class="warning">
          <strong>‚ö†Ô∏è Critical Requirements:</strong> 
          <ol style="margin: 8px 0 0 0; padding-left: 20px;">
            <li>File must be named exactly <code>dmrids.csv</code> (lowercase, no spaces)</li>
            <li>Columns must be in alphabetical order: CALLSIGN, CITY, COUNTRY, FIRST_NAME, SURNAME</li>
            <li>All rows must be sorted alphabetically by CALLSIGN (A-Z)</li>
          </ol>
          Incorrect filename, column order, or row sorting will result in no names or locations being displayed, 
          or incorrect data lookups.
        </div>

        <h3>Verifying the Update</h3>
        <p>
          After updating and reinserting the SD card, power on the device. You should see operator 
          names and locations displayed during DMR transmissions. If you only see callsigns:
        </p>
        <ul>
          <li>Check that the SD card is properly inserted</li>
          <li>Verify the database file is named exactly <code>dmrids.csv</code> (lowercase)</li>
          <li>Confirm columns are in alphabetical order (CALLSIGN, CITY, COUNTRY, FIRST_NAME, SURNAME)</li>
          <li>Confirm all rows are sorted alphabetically by CALLSIGN column</li>
          <li>Ensure the file is saved in CSV format (not XLSX or other formats)</li>
        </ul>

        <div class="info-box">
          <strong>üí° Performance:</strong> The device uses an optimized indexing system that 
          provides millisecond lookup times. A database with 450,000+ entries typically 
          loads in under 10 seconds on startup.
        </div>
      </section>

      <!-- DISPLAY LAYOUT -->
      <section id="layout" class="section">
        <h2>5. Display Layout</h2>

        <table>
          <thead>
            <tr>
              <th>Section</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Header (Blue)</strong></td>
              <td>Shows device name. Long-press (3 seconds) to access options menu.</td>
            </tr>
            <tr>
              <td><strong>Status (Yellow)</strong></td>
              <td>Shows "-" when idle, "TX" with duration (e.g., "15") when transmitting.</td>
            </tr>
            <tr>
              <td><strong>Callsign (Purple)</strong></td>
              <td>Displays the callsign of the transmitting station.</td>
            </tr>
            <tr>
              <td><strong>Talk Group (Green)</strong></td>
              <td>Shows the active talk group number (e.g., "91").</td>
            </tr>
            <tr>
              <td><strong>Name</strong></td>
              <td>Displays operator name from DMR database.</td>
            </tr>
            <tr>
              <td><strong>Location</strong></td>
              <td>Shows operator location with scrolling text for long names.</td>
            </tr>
            <tr>
              <td><strong>Date (Grey)</strong></td>
              <td>Displays today's date (updates from NTP server).</td>
            </tr>
            <tr>
              <td><strong>Connection Info (Grey)</strong></td>
              <td>Shows PI-Star IP address. Tap to reconnect WiFi.</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- NORMAL OPERATION -->
      <section id="operation" class="section">
        <h2>6. Normal Operation</h2>
        <p>Once configured, the Hotspot-Face operates automatically:</p>
        <ul>
          <li>Automatically connects to your saved WiFi network on boot</li>
          <li>Uses mDNS to discover PI-Star if auto-discovery is enabled</li>
          <li>Fetches PI-Star activity data every 500ms for real-time updates</li>
          <li>Displays callsign, talk group, and TX duration when activity is detected</li>
          <li>Shows operator name and location from SD card database</li>
          <li>Scrolls long location names smoothly for full visibility</li>
          <li>Shows "TX" status with duration number when transmission is active</li>
          <li>Returns to "-" status when no activity is present</li>
        </ul>

        <div class="info-box">
          <strong>Real-time Updates:</strong> The display refreshes twice per second, 
          ensuring you see DMR activity as it happens. The SD card database provides 
          millisecond callsign lookups for instant name and location display.
        </div>
      </section>

      <!-- SETTINGS MENU -->
      <section id="settings" class="section">
        <h2>7. Settings & Options Menu</h2>
        
        <h3>Accessing Options Menu</h3>
        <p>
          <strong>Long-press the blue header bar</strong> for 3 seconds. The header will flash 
          with a countdown, then turn green. Release to open the options menu.
        </p>

        <h3>Options Available:</h3>
        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>AP Setup Mode</strong></td>
              <td>Opens the WiFi setup portal to add more networks or change settings.</td>
            </tr>
            <tr>
              <td><strong>Brightness</strong></td>
              <td>Adjust display brightness level (multiple levels available). Includes automatic brightness adjustment based on your location's sunrise and sunset times.</td>
            </tr>
            <tr>
              <td><strong>Factory Reset</strong></td>
              <td>Erases all settings and returns device to first-boot state.</td>
            </tr>
            <tr>
              <td><strong>Cancel</strong></td>
              <td>Returns to normal operation without changes.</td>
            </tr>
          </tbody>
        </table>

        <h3>Web Configuration Settings:</h3>
        <table>
          <thead>
            <tr>
              <th>Setting</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Display Name</strong></td>
              <td>Custom text shown in the header bar (e.g., "M3URE Monitor")</td>
            </tr>
            <tr>
              <td><strong>WiFi SSID</strong></td>
              <td>Your home WiFi network name (supports network scanning)</td>
            </tr>
            <tr>
              <td><strong>WiFi Password</strong></td>
              <td>Password for your WiFi network</td>
            </tr>
            <tr>
              <td><strong>PI-Star IP</strong></td>
              <td>IP address of your PI-Star (optional if auto-discovery enabled)</td>
            </tr>
            <tr>
              <td><strong>PI-Star Username</strong></td>
              <td>Default: <code>pi-star</code></td>
            </tr>
            <tr>
              <td><strong>PI-Star Password</strong></td>
              <td>Default: <code>raspberry</code></td>
            </tr>
            <tr>
              <td><strong>Auto-Discovery</strong></td>
              <td>Enable mDNS automatic PI-Star detection</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- ADVANCED FEATURES -->
      <section id="advanced" class="section">
        <h2>8. Advanced Features</h2>

        <h3>SD Card DMR Database</h3>
        <p>
          The device uses an SD card to store a comprehensive DMR database with 450,000+ callsigns. 
          The database includes operator names and locations from RadioID.net, providing instant 
          identification of transmitting stations. Callsign lookups are optimized for millisecond 
          response times using an efficient indexing system.
        </p>

        <h3>Scrolling Location Display</h3>
        <p>
          When location names are too long to fit on screen, the display automatically scrolls 
          the text smoothly with a 2-second pause at the start. This ensures full visibility of 
          location information without truncation.
        </p>

        <h3>mDNS Auto-Discovery</h3>
        <p>
          The device can automatically find your PI-Star on the network using mDNS (Multicast DNS). 
          It searches for hostnames: <code>pi-star</code>, <code>pistar</code>, 
          <code>pi-star.local</code>, <code>pistar.local</code>
        </p>

        <h3>Multiple WiFi Profiles</h3>
        <p>
          The device stores multiple WiFi networks. You can add networks by entering AP Setup Mode 
          and saving additional WiFi credentials without losing existing ones.
        </p>

        <h3>Priority Connection</h3>
        <p>
          The device remembers the last successfully connected network and tries that first on boot, 
          falling back to other saved networks if connection fails.
        </p>

        <h3>Automatic Reconnection</h3>
        <p>
          If WiFi connection is lost, tap the bottom grey bar to trigger a manual reconnection attempt.
        </p>
      </section>

      <!-- FACTORY RESET -->
      <section id="reset" class="section">
        <h2>9. Factory Reset</h2>
        
        <div class="warning">
          <strong>‚ö†Ô∏è Warning:</strong> Factory reset will permanently erase all saved WiFi networks, 
          PI-Star settings, and custom configuration. This action cannot be undone.
        </div>

        <h3>How to Perform Factory Reset:</h3>
        <ol>
          <li>Long-press the blue header bar for 3 seconds to open the options menu</li>
          <li>Tap the blue "Factory Reset" button</li>
          <li>The screen will turn red and display "RESETTING"</li>
          <li>Device will reboot into initial setup mode</li>
          <li>Reconnect using the setup instructions in Section 3</li>
        </ol>
      </section>

      <!-- TROUBLESHOOTING -->
      <section id="trouble" class="section">
        <h2>10. Troubleshooting</h2>

        <table>
          <thead>
            <tr>
              <th>Issue</th>
              <th>Possible Cause</th>
              <th>Solution</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>WiFi Off</strong></td>
              <td>Cannot connect to WiFi</td>
              <td>
                ‚Ä¢ Check WiFi password is correct<br>
                ‚Ä¢ Ensure router is powered on<br>
                ‚Ä¢ Move device closer to router<br>
                ‚Ä¢ Check 2.4GHz WiFi is enabled (5GHz not supported)
              </td>
            </tr>
            <tr>
              <td><strong>No Pi-Star</strong></td>
              <td>Cannot find PI-Star</td>
              <td>
                ‚Ä¢ Enable auto-discovery in settings<br>
                ‚Ä¢ Manually enter PI-Star IP address<br>
                ‚Ä¢ Verify PI-Star is powered on and connected<br>
                ‚Ä¢ Check both devices are on same network
              </td>
            </tr>
            <tr>
              <td><strong>Auth Error</strong></td>
              <td>Wrong PI-Star credentials</td>
              <td>
                ‚Ä¢ Default username: <code>pi-star</code><br>
                ‚Ä¢ Default password: <code>raspberry</code><br>
                ‚Ä¢ If changed, enter correct credentials in setup
              </td>
            </tr>
            <tr>
              <td><strong>Error</strong></td>
              <td>HTTP connection failed</td>
              <td>
                ‚Ä¢ Check PI-Star is running<br>
                ‚Ä¢ Verify IP address is correct<br>
                ‚Ä¢ Ensure PI-Star web interface is accessible
              </td>
            </tr>
            <tr>
              <td><strong>Syncing...</strong></td>
              <td>Time not yet synchronized</td>
              <td>
                ‚Ä¢ Wait 10-30 seconds for NTP sync<br>
                ‚Ä¢ Check internet connection is active<br>
                ‚Ä¢ Date will appear once NTP sync completes
              </td>
            </tr>
            <tr>
              <td><strong>No name/location</strong></td>
              <td>SD card issue or callsign not in database</td>
              <td>
                ‚Ä¢ Ensure SD card is properly inserted<br>
                ‚Ä¢ Check SD card contains <code>dmrids.csv</code> file<br>
                ‚Ä¢ Verify filename is exactly <code>dmrids.csv</code> (lowercase)<br>
                ‚Ä¢ Verify columns are in alphabetical order<br>
                ‚Ä¢ Verify rows are sorted alphabetically by CALLSIGN<br>
                ‚Ä¢ Some new callsigns may not be in database yet
              </td>
            </tr>
          </tbody>
        </table>

        <h3>Additional Tips:</h3>
        <ul>
          <li>Perform a factory reset if settings become corrupted</li>
          <li>Ensure USB-C power supply provides stable 5V</li>
          <li>Tap bottom bar to force WiFi reconnection</li>
          <li>Reformat SD card if database lookups fail</li>
        </ul>
      </section>

      <!-- TECH INFO -->
      <section id="technical" class="section">
        <h2>11. Technical Information</h2>

        <h3>Hardware Requirements</h3>
        <ul>
          <li><strong>Display:</strong> 2.8" touchscreen (320√ó240 resolution)</li>
          <li><strong>Storage:</strong> SD card (for DMR database)</li>
          <li><strong>Power:</strong> 5V USB-C (minimum 500mA recommended)</li>
          <li><strong>WiFi:</strong> 2.4GHz 802.11 b/g/n (5GHz not supported)</li>
        </ul>

        <h3>Software Requirements</h3>
        <ul>
          <li><strong>PI-Star:</strong> Version 3.4 or newer</li>
          <li><strong>Database:</strong> DMR ID database from RadioID.net</li>
        </ul>

        <h3>Network Specifications</h3>
        <ul>
          <li><strong>Protocols:</strong> HTTP, mDNS, DNS</li>
          <li><strong>AP Mode:</strong> 192.168.4.1 (captive portal)</li>
          <li><strong>Update Rate:</strong> 500ms (2 updates per second)</li>
          <li><strong>Discovery:</strong> mDNS hostnames (pi-star.local)</li>
        </ul>

        <h3>Database Specifications</h3>
        <ul>
          <li><strong>Callsigns:</strong> 450,000+ entries from RadioID.net</li>
          <li><strong>Lookup Speed:</strong> Millisecond response times</li>
          <li><strong>Data:</strong> Operator names, cities, country codes</li>
          <li><strong>Storage:</strong> SD card-based for easy updates</li>
        </ul>

        <h3>Memory & Storage</h3>
        <ul>
          <li><strong>WiFi Profiles:</strong> Stores up to 30 networks</li>
          <li><strong>Retention:</strong> Settings persist across power cycles</li>
        </ul>
      </section>

      <!-- SAFETY -->
      <section id="safety" class="section">
        <h2>12. Safety & Disclaimers</h2>

        <div class="warning">
          <strong>‚ö†Ô∏è Important Safety Information</strong>
        </div>

        <h3>Operating Environment</h3>
        <ul>
          <li><strong>Indoor use only</strong> ‚Äì Not weatherproof</li>
          <li><strong>Dry locations only</strong> ‚Äì Do not expose to moisture or liquids</li>
          <li><strong>Temperature range:</strong> 0¬∞C to 40¬∞C operating temperature</li>
          <li><strong>Ventilation:</strong> Ensure adequate airflow around device</li>
        </ul>

        <h3>Electrical Safety</h3>
        <ul>
          <li>Use only 5V USB-C power supplies</li>
          <li>Do not modify internal circuitry</li>
          <li>Disconnect power before cleaning</li>
          <li>Use appropriate fusing on power supply</li>
        </ul>

        <h3>Disclaimers</h3>
        <ul>
          <li>User assumes all risk of operation</li>
          <li>Not responsible for damage to PI-Star or connected equipment</li>
          <li>Follow your local amateur radio regulations</li>
        </ul>

        <h3>Responsible Use</h3>
        <ul>
          <li>Comply with all amateur radio licensing requirements</li>
        </ul>
      </section>

      <!-- SUPPORT -->
      <section id="support" class="section">
        <h2>13. Support & Contact</h2>

        <p><strong>Developer:</strong> Robert Eddy (M3URE)</p>
        <p><strong>Email:</strong> <a href="/cdn-cgi/l/email-protection#6c1e030e091e18090808155d5e5f582c0b010d0500420f0301"><span class="__cf_email__" data-cfemail="b9cbd6dbdccbcddcddddc0888b8a8df9ded4d8d0d597dad6d4">[email&#160;protected]</span></a></p>
        <p><strong>Callsign:</strong> M3URE</p>
        
        <div class="info-box">
          <strong>Current Version:</strong> Firmware v44 (SD Card Database) ‚Äî December 2025<br>
          <strong>Manual Version:</strong> 2.2 ‚Äî Updated December 2025
        </div>

        <h3>Getting Help</h3>
        <p>
          When contacting for support, please provide:
        </p>
        <ul>
          <li>Description of the issue</li>
          <li>PI-Star version</li>
          <li>Network configuration (WiFi vs Hotspot mode)</li>
          <li>Any error messages displayed</li>
          <li>SD card status (if database-related issue)</li>
        </ul>
      </section>

    </main>

    <footer style="padding:20px;text-align:center;color:var(--text-muted);font-size:12px;border-top:1px solid rgba(148,163,184,0.2);margin-top:40px;">
      ¬© 2025 Robert Eddy M3URE ‚Äî Hotspot-Face Manual v2.2<br>
      <span style="font-size:11px;">Last Updated: December 2025</span>
    </footer>

  </div>
</div>

<!-- THEME TOGGLE SCRIPT -->
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  const toggle = document.getElementById("themeToggle");
  const themeIcon = document.getElementById("themeIcon");
  const themeLabel = document.getElementById("themeLabel");

  toggle.addEventListener("click", () => {
    document.body.classList.toggle("dark");
    const dark = document.body.classList.contains("dark");

    themeIcon.textContent = dark ? "‚òÄÔ∏è" : "üåô";
    themeLabel.textContent = dark ? "Light" : "Dark";

    localStorage.setItem("hf-theme", dark ? "dark"
